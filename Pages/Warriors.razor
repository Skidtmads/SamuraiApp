@using Microsoft.Data.SqlClient;
@using Microsoft.Identity.Client;
@using System;
@using System.Collections.Generic;
@using System.Linq;
@using System.Text;
@using System.Threading.Tasks;
@using System.Data.SqlClient;
@using Samurai.Models;
@using Samurai.Repositories;
@using System.Net.Http
@using Microsoft.AspNetCore.Authorization
@using Microsoft.AspNetCore.Components.Forms
@using Microsoft.AspNetCore.Components.Routing
@using Microsoft.AspNetCore.Components.Web
@using Microsoft.AspNetCore.Components.Web.Virtualization
@using Microsoft.JSInterop

@page "/Warriors"

<PageTitle>Warriors</PageTitle>

<h1>Warriors</h1>

<table>
    
    <tableBody>
        @foreach (var item in WarriorList)
        {
            <tableRow>
                <tableCell>@item.Id</tableCell>
                <tableCell>@item.Name</tableCell>
                <tablecell>@item.ArmorType</tablecell>
                <tablecell>@item.HorseId</tablecell>
            </tableRow>
        }
    </tableBody>
</table>

@code {
    List<Warrior> warriorList = new List<Warrior>();
    protected override void OnInitialized()
    {
        warriorList = Warrior.getAllWarriors();
    }
    protected void testDelete(Warrior h)
    {
        Warrior.delete(h.Id);
    }
}